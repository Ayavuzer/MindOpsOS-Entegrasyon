# Story: E1-S1 - Project Setup & Dependencies

## Status: Done

> **Epic:** E1 - Foundation & Setup  
> **Points:** 2  
> **Priority:** P0  
> **Created:** 2025-12-27

---

## User Story

**As a** developer  
**I want** a properly configured Python project with all dependencies  
**So that** I can start implementing the integration features

---

## Acceptance Criteria

### AC1: Python Environment

- [ ] Python 3.12+ virtual environment created
- [ ] requirements.txt with all dependencies
- [ ] pyproject.toml for project metadata
- [ ] .gitignore configured

### AC2: Project Structure

- [ ] src/ directory with proper package structure
- [ ] config/ directory with .env.example
- [ ] tests/ directory structure
- [ ] **init**.py files in all packages

### AC3: Configuration Module

- [ ] config.py with pydantic-settings
- [ ] Environment variable loading
- [ ] Email credentials (masked in logs)
- [ ] Sedna API configuration

### AC4: Basic Entry Point

- [ ] main.py with basic startup logic
- [ ] Logging configured with structlog
- [ ] Health check message

---

## Tasks

- [x] Create project directory structure
- [x] Create requirements.txt
- [x] Create .env.example
- [x] Create README.md
- [ ] Create pyproject.toml
- [ ] Create config.py
- [ ] Create main.py entry point
- [ ] Create logging setup
- [ ] Create **init**.py files
- [ ] Test: pip install works
- [ ] Test: main.py runs without errors

---

## Technical Notes

### Dependencies Selection

| Package | Purpose |
|---------|---------|
| httpx | Async HTTP client for Sedna API |
| pydantic | Data validation and models |
| pymupdf | PDF text extraction |
| imapclient | IMAP email fetching |
| apscheduler | Email polling scheduler |
| structlog | Structured logging |

### Environment Variables

```bash
# Required
BOOKING_EMAIL_ADDRESS
BOOKING_EMAIL_PASSWORD
STOPSALE_EMAIL_ADDRESS
STOPSALE_EMAIL_PASSWORD
SEDNA_API_BASE_URL
SEDNA_USERNAME
SEDNA_PASSWORD
```

---

## Definition of Done

- [ ] All dependencies install without errors
- [ ] main.py runs and prints startup message
- [ ] Configuration loads from .env
- [ ] Logs are properly formatted
- [ ] No type errors (mypy passes)

---

## Files to Create/Modify

| File | Action |
|------|--------|
| `src/__init__.py` | Create |
| `src/main.py` | Create |
| `src/config.py` | Create |
| `src/utils/__init__.py` | Create |
| `src/utils/logger.py` | Create |
| `pyproject.toml` | Create |
| `.gitignore` | Create |

---

*Story created: 2025-12-27*
